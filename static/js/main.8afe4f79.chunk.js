(this["webpackJsonppokedex-deploy"]=this["webpackJsonppokedex-deploy"]||[]).push([[0],{73:function(e,n,t){},85:function(e,n,t){},87:function(e,n,t){"use strict";t.r(n);var c=t(4),o=t(2),a=t(65),r=t.n(a),s=t(22),i=(t(73),t(23)),l=t(24),b=t(11),m=t(6),j=t(29);function u(){var e=Object(s.a)(["\n    query pokemon($name: String!) {\n        pokemon(name: $name) {\n            id\n            name\n            abilities {\n                ability {\n                    name\n                }\n            }\n            moves {\n                move {\n                    name\n                }\n            }\n            types {\n                type {\n                    name\n                }\n            }\n            sprites {\n                front_default\n            }\n            message\n            status\n        }\n    }\n"]);return u=function(){return e},e}function d(){var e=Object(s.a)(["\n    query pokemons($limit: Int, $offset: Int) {\n        pokemons(limit: $limit, offset: $offset) {\n            nextOffset\n            prevOffset\n            results {\n                url\n                name\n                image\n            }\n        }\n    }\n"]);return d=function(){return e},e}var p=Object(i.gql)(d()),O=Object(i.gql)(u());function f(){var e=Object(s.a)(["\n        font-family:'Roboto', sans-serif;\n        text-align: center;\n        background-color: grey;\n        border-radius: 15px;\n        padding: 3px;\n        color: white;\n        font-size: 20px;\n        text-decoration: none;\n    "]);return f=function(){return e},e}var h=function(e){var n=0,t=JSON.parse(localStorage.getItem("myPokemon"));if(t)t.map((function(t){t[0]===e.pokemon.name&&(n+=1)}));var c=e.pokemon.name.charAt(0).toUpperCase()+e.pokemon.name.slice(1),o=Object(m.a)(f());return Object(m.b)("div",{css:o},Object(m.b)("div",null,Object(m.b)("p",null,c)),Object(m.b)("div",{className:"pokemon_image"},Object(m.b)("img",{src:e.pokemon.image,alt:e.pokemon.name})),Object(m.b)("div",{className:"pokemon_owned"},Object(m.b)("p",null,"Owned : ",n)))};function k(){var e=Object(s.a)(["\n        width: 45%;\n        padding: 10px;\n        float: left;\n    "]);return k=function(){return e},e}function v(){var e=Object(s.a)(["\n        width: 100%;\n    "]);return v=function(){return e},e}function x(){var e=Object(s.a)(["\n        width: 100%;\n    "]);return x=function(){return e},e}var g=function(){var e=Object(m.a)(x()),n=Object(m.a)(v()),t=Object(m.a)(k()),c=Object(o.useState)(6),a=Object(j.a)(c,1)[0],r=Object(o.useState)(0),s=Object(j.a)(r,2),b=s[0],u=s[1],d=0,O=0,f={limit:a,offset:b},g=Object(i.useQuery)(p,{variables:f}),y=g.loading,S=g.error,N=g.data;if(y)return"Loading...";if(S)return"Error! ".concat(S.message);N&&(d=N.pokemons.prevOffset,O=N.pokemons.nextOffset);var C=N.pokemons.results.map((function(e){return Object(m.b)("div",{css:t},Object(m.b)(l.b,{to:"/detail/".concat(e.name),style:{textDecoration:"none"}},Object(m.b)(h,{key:e.name,pokemon:e})))}));return Object(m.b)("div",{css:e},Object(m.b)("div",{css:n},Object(m.b)(l.b,{to:"/pokemon-list"},Object(m.b)("button",null,"My Pokemon"))),C,Object(m.b)("div",{css:n},Object(m.b)("button",{onClick:function(e){"clickaway"!==e&&u(d)}},"Prev"),Object(m.b)("button",{onClick:function(e){"clickaway"!==e&&u(O)}},"Next")))};var y=function(e){return Object(c.jsxs)("div",{className:"pokemon",children:[Object(c.jsx)("div",{className:"pokemon_image",children:Object(c.jsx)("img",{src:e.pokemon.sprites.front_default,alt:e.pokemon.name})}),Object(c.jsx)("div",{className:"pokemon_name",children:Object(c.jsx)("p",{children:e.pokemon.types[0].type.name})})]})};t(85);var S=function(e){var n=e.show?"modal display-block":"modal display-none";return Object(c.jsx)("div",{className:n,children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsx)("span",{className:"close",onClick:e.handleClose,children:"\xd7"}),Object(c.jsx)("p",{children:e.headerTitle}),Object(c.jsx)("br",{}),e.children]})})};var N=function(e){var n=e.match,t=Object(o.useState)(!1),a=Object(j.a)(t,2),r=a[0],s=a[1],b=Object(o.useState)(""),m=Object(j.a)(b,2),u=m[0],d=m[1],p={name:n.params.name},f=Object(i.useQuery)(O,{variables:p}),h=f.loading,k=f.error,v=f.data;return h?"Loading...":k?"Error! ".concat(k.message):Object(c.jsxs)("div",{className:"pokemons",children:[Object(c.jsx)(l.b,{to:"/",children:Object(c.jsx)("button",{children:"Home"})}),Object(c.jsx)(l.b,{to:"/pokemon-list",children:Object(c.jsx)("button",{children:"My Pokemon"})}),Object(c.jsx)(y,{pokemon:v.pokemon},v.pokemon),Object(c.jsx)("button",{onClick:function(){Math.random()>.5?(s(!0),alert("Catch Success! Please Input Nickname to Your Pokemon!")):alert("Catch Failed! Please Try Aain!")},children:"Catch"}),Object(c.jsxs)(S,{show:r,handleClose:function(){s(!1)},headerTitle:"Input Username",children:[Object(c.jsx)("input",{placeholder:"Input Username",onChange:function(e){d(e.target.value)}}),Object(c.jsx)("button",{onClick:function(){var e=0,t=[],c=JSON.parse(localStorage.getItem("myPokemon"));null===c?t.push([n.params.name,u]):(c.map((function(t){t[1]===u&&t[0]===n.params.name&&(e=1)})),c.push([n.params.name,u]),t=c),1===e?alert("Username Already Exist!"):(localStorage.setItem("myPokemon",JSON.stringify(t)),s(!1),alert("Catch Success!"))},children:"Submit"})]})]})};var C=function(e){e.match;var n=JSON.parse(localStorage.getItem("myPokemon")),t=[];n&&(t=n);var a=Object(o.useState)(t),r=Object(j.a)(a,2),s=r[0],i=r[1],b=s.map((function(e,t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:t+1}),Object(c.jsx)("td",{children:e[0]}),Object(c.jsx)("td",{children:e[1]}),Object(c.jsx)("td",{children:Object(c.jsx)("button",{onClick:function(){!function(e,t){var c=-1;n.map((function(n,o){n[0]===e&&n[1]===t&&(c=o)})),n.splice(c,1),localStorage.setItem("myPokemon",JSON.stringify(n)),i(JSON.parse(localStorage.getItem("myPokemon")))}(e[0],e[1])},children:"Delete"})})]})}));return Object(c.jsxs)("div",{className:"pokemons",children:[Object(c.jsx)(l.b,{to:"/",children:Object(c.jsx)("button",{children:"Home"})}),Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"Number"}),Object(c.jsx)("td",{children:"Pokemon"}),Object(c.jsx)("td",{children:"Nickname"})]})}),Object(c.jsx)("tbody",{children:b})]})]})};function w(){var e=Object(s.a)(["\n    width: 50%;\n    margin-left: 25%;\n  "]);return w=function(){return e},e}var P=function(){var e=new i.ApolloClient({uri:"https://graphql-pokeapi.vercel.app/api/graphql",cache:new i.InMemoryCache}),n=Object(m.a)(w());return Object(m.b)(i.ApolloProvider,{client:e},Object(m.b)(l.a,null,Object(m.b)("div",{css:n},Object(m.b)(b.c,null,Object(m.b)(b.a,{path:"/",exact:!0,component:g}),Object(m.b)(b.a,{path:"/detail/:name",component:N}),Object(m.b)(b.a,{path:"/pokemon-list/",component:C})))))};r.a.render(Object(c.jsx)(P,{}),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.8afe4f79.chunk.js.map